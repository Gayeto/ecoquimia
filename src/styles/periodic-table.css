/* src/styles/periodic-table.css */

.pt-wrap { width: 100%; }
.pt-scroll { position: relative; width: 100%; overflow-x: auto; }
.pt-board { position: relative; background: white; margin: 0 auto; }

/* Etiquetas exteriores */
.pt-col-label, .pt-row-label {
  position: absolute;
  font-weight: 600;
  color: rgba(0, 0, 0, 0.2);
  user-select: none;
}
.pt-col-label { transform: translateX(-50%); }
.pt-row-label { transform: translate(-100%, -50%); }

/* Celda Base */
.pt-cell {
  position: absolute;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: all 0.25s ease;
  cursor: pointer;
}

/* Estilos espec√≠ficos para modo fotos */
.pt-cell-photo-mode {
  background-color: #f8f9fa;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.pt-photo-content {
  width: 100%;
  height: 100%;
  position: relative;
}

.pt-photo-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
  padding: 8px;
  color: white;
}

.pt-photo-symbol {
  color: white;
  font-weight: 900;
  font-size: 14px;
  line-height: 1;
}

.pt-photo-name {
  color: white;
  font-weight: 400;
  font-size: 9px;
  margin-top: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 1. N√∫mero Celda: Superior izquierda, sin negrita */
.pt-internal-index {
  position: absolute;
  left: 6px;
  top: 4px;
  font-weight: 400; /* Sin negrita */
  color: rgba(255, 255, 255, 0.8);
  font-size: 10px;
  line-height: 1;
}

.pt-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  padding: 12px 4px 4px;
  text-align: left;
}

/* 2. S√≠mbolo: Blanco, negrita, tama√±o adaptable */
.pt-symbol {
  color: #fff;
  font-weight: 900;
  line-height: 0.9;
  letter-spacing: -0.03em;
  font-size: clamp(14px, 2.8vw, 24px);
  width: 100%;
  word-break: break-all;
}

/* 3. Nombre: Blanco, sin negrita, peque√±o */
.pt-name {
  color: #fff;
  font-weight: 400;
  font-size: 10px;
  line-height: 1.1;
  margin-top: 3px;
  max-width: 90%;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* 4. Anotaci√≥n: Letra negra abajo */
.pt-meta {
  color: #000;
  font-weight: 700;
  font-size: 9px;
  margin-top: auto;
  padding: 0px 0px;
  width: 100%;
}

/* --- Estados de Interacci√≥n --- */
.pt-cell.is-dimmed {
  opacity: 0.12;
  filter: grayscale(0.4);
  pointer-events: none;
}
.pt-cell.is-highlight {
  z-index: 30;
}

/* --- Redondeos Suaves --- */
.pt-tl-extra { border-top-left-radius: 5px; }
.pt-tr-extra { border-top-right-radius: 5px; }
.pt-curve-right { border-top-right-radius: 5px !important; }
.pt-curve-left { border-top-left-radius: 5px !important; }

/* --- RESPONSIVE: Mobile clean --- */
@media (max-width: 768px) {
  /* Ocultamos todo excepto el s√≠mbolo para evitar el colapso */
  .pt-name, .pt-meta, .pt-internal-index {
    display: none !important;
  }
  .pt-symbol {
    font-size: 16px !important;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
  }

  /* En modo fotos mobile, mostrar solo overlay */
  .pt-photo-overlay {
    padding: 4px;
  }
  .pt-photo-symbol {
    font-size: 12px;
  }
  .pt-photo-name {
    font-size: 8px;
  }
}

/* Panel Central integrado */
.pt-panel-integrated {
  position: absolute;
  display: flex;
  align-items: center;
  gap: 20px;
  pointer-events: none;
}
.pt-preview-box {
  width: 25%;
  height: 85%;
  border-radius: 14px;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 12px;
  color: white;
  position: relative;
}

/* Estilo para panel en modo fotos */
.pt-preview-box-photo {
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

.pt-preview-idx {
  position: absolute;
  top: 10px;
  left: 12px;
  font-weight: 800;
  opacity: 0.5;
  font-size: 10px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}
.pt-preview-sym {
  font-size: 32px;
  font-weight: 900;
  line-height: 1;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}
.pt-preview-name {
  font-size: 11px;
  font-weight: 400;
  text-transform: uppercase;
  margin-top: 4px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}

/* --- Scroll --- */
.pt-scroll {
  position: relative;
  width: 100%;
  overflow-x: auto;
  overflow-y: visible; /* evita recortes raros en Y */
}

/* Etiquetas exteriores */
.pt-col-label, .pt-row-label {
  position: absolute;
  font-weight: 600;
  color: rgba(0, 0, 0, 0.2);
  user-select: none;
  pointer-events: none;
  line-height: 1;
  z-index: 20; /* para que no las "tapen" las celdas */
}
.pt-col-label { transform: translateX(-50%); }
.pt-row-label { transform: translate(-100%, -50%); }

/* Celda Base */
.pt-cell {
  position: absolute;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: all 0.25s ease;
  cursor: pointer;

  /* Padding/m√°rgenes consistentes (misma gu√≠a para todo dentro) */
  --pt-pad-x: clamp(6px, 0.7vw, 10px);
  --pt-pad-top: clamp(14px, 1.1vw, 18px);
  --pt-pad-bottom: clamp(6px, 0.8vw, 10px);
}

/* 1. N√∫mero Celda: Superior izquierda */
.pt-internal-index {
  position: absolute;
  left: var(--pt-pad-x);
  top: 4px;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.8);
  font-size: 10px;
  line-height: 1;
}

/* Contenido: TODO alineado a la izquierda con mismo margen horizontal */
.pt-content {
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* ya no centrado */
  align-items: flex-start;     /* izquierda */
  width: 100%;
  height: 100%;
  padding: var(--pt-pad-top) var(--pt-pad-x) var(--pt-pad-bottom);
  text-align: left;
  gap: 3px; /* separaci√≥n vertical consistente */
}

.pt-symbol {
  color: #fff;
  font-weight: 900;
  line-height: 0.9;
  letter-spacing: -0.03em;
  font-size: clamp(14px, 2.8vw, 24px);
  width: 100%;
  word-break: break-all;
}

.pt-name {
  color: #fff;
  font-weight: 400;
  font-size: 10px;
  line-height: 1.1;
  margin-top: 0;     /* ahora lo controla gap */
  width: 100%;       /* <- importante para que alinee con s√≠mbolo/meta */
  max-width: 100%;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.pt-meta {
  color: #000;
  font-weight: 700;
  font-size: 9px;
  margin-top: auto;
  padding: 0;
  width: 100%;
}

/* Contenido: spacing vertical uniforme */
.pt-content{
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  width: 100%;
  height: 100%;

  /* padding consistente */
  padding: var(--pt-pad-top) var(--pt-pad-x) var(--pt-pad-bottom);

  /* üëá aqu√≠ controlas el espacio entre s√≠mbolo/nombre/nota */
  gap: clamp(3px, 0.5vw, 7px);

  text-align: left;
}

/* Nota: ya NO va hasta abajo */
.pt-meta{
  margin-top: 0;     /* üëà antes era auto */
  padding: 0;
  width: 100%;
}

/* Panel Central integrado */
.pt-panel-integrated{
  position: absolute;
  display: flex;
  align-items: center;
  gap: 16px;
  pointer-events: none;
}

/* Caja grande (celda preview) */
.pt-preview-box{
  height: 90%;          /* ‚úÖ ocupa toda la altura del panel */
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 12px;
  color: white;
  position: relative;
}

/* Lado derecho (imagen + texto) */
.pt-preview-info{
  display: flex;
  align-items: flex-start;
  gap: 14px;
  height: 100%;
  padding-top: 8px; /* ‚úÖ baja un poquito el bloque para que se vea centrado */
}

.pt-preview-img{
  width: clamp(84px, 7vw, 120px);
  aspect-ratio: 1 / 1;
  border-radius: 14px;
  overflow: hidden;
  background: rgba(255,255,255,0.55);
  display: flex;
  align-items: center;
  justify-content: center;
}

.pt-preview-img img{
  width: 100%;
  height: 100%;
  object-fit: contain; /* ‚úÖ tipo producto PNG */
}

.pt-preview-text{
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 520px;
}

.pt-badge{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 800;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.08);
  color: rgba(15, 23, 42, 0.82);
  margin-left: 10px;
}

.pt-kv{
  display: flex;
  gap: 8px;
  font-size: 12px;
  color: rgba(15, 23, 42, 0.78);
}
.pt-k{
  font-weight: 900;
  color: rgba(15, 23, 42, 0.92);
  white-space: nowrap;
}
.pt-v{
  font-weight: 600;
}

.pt-panel-integrated{
  position: absolute;
  display: flex;
  align-items: center;      /* centra verticalmente el contenido dentro del panel */
  gap: 14px;
  pointer-events: none;
}

/* ‚úÖ Celda grande: cuadrada y del alto del panel */
.pt-preview-box{
  height: 100%;
  aspect-ratio: 1 / 1;      /* ‚úÖ cuadrada */
  width: auto;              /* se deriva del aspect-ratio */
  border-radius: 16px;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 12px;
  color: white;
  position: relative;
}

/* ‚úÖ Columna derecha: imagen + texto */
.pt-preview-info{
  display: flex;
  align-items: center;      /* ‚úÖ centra verticalmente imagen y texto */
  gap: 14px;
  height: 100%;
}

/* ‚úÖ Imagen del mismo tama√±o que la celda grande */
.pt-preview-img{
  height: 100%;
  aspect-ratio: 1 / 1;      /* ‚úÖ cuadrada */
  width: auto;
  border-radius: 16px;
  overflow: hidden;
  background: rgba(255,255,255,0.55);
  display: flex;
  align-items: center;
  justify-content: center;
}

.pt-preview-img img{
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.pt-preview-text{
  display: flex;
  flex-direction: column;
  justify-content: center;  /* ‚úÖ texto centrado verticalmente */
  gap: 8px;
  max-width: 520px;
}

/* ... (mant√©n todo el CSS anterior y agrega esto al final) */

/* Mejoras para modo fotos */
.pt-cell-photo-mode {
  background-color: #f8f9fa;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: transform 0.3s ease, filter 0.3s ease;
}

.pt-cell-photo-mode:hover {
  transform: scale(1.02);
  filter: brightness(1.1);
  z-index: 25;
}

.pt-photo-content {
  width: 100%;
  height: 100%;
  position: relative;
}

.pt-photo-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.4), transparent);
  padding: 8px 6px;
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  min-height: 40%;
}

.pt-photo-symbol {
  color: white;
  font-weight: 900;
  font-size: clamp(12px, 1.8vw, 18px);
  line-height: 1;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
}

.pt-photo-name {
  color: white;
  font-weight: 500;
  font-size: 9px;
  margin-top: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
}

/* Estilos para celdas sin imagen en modo fotos */
.pt-photo-fallback-symbol {
  color: #333;
  font-weight: 900;
}

.pt-photo-fallback-name {
  color: #333;
}

/* Estados dimmed y highlight en modo fotos */
.pt-cell-photo-mode.is-dimmed {
  opacity: 0.3;
  filter: grayscale(1) brightness(0.7);
}

.pt-cell-photo-mode.is-highlight {
  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.9),
              0 0 0 6px rgba(84, 158, 214, 0.6),
              0 8px 24px rgba(0, 0, 0, 0.3);
  transform: scale(1.03);
  z-index: 30;
}

/* Panel de preview en modo fotos */
.pt-preview-box-photo {
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
  position: relative;
  overflow: hidden;
}

.pt-preview-box-photo::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.6));
  z-index: 1;
}

.pt-preview-box-photo > * {
  position: relative;
  z-index: 2;
}

/* Responsive para modo fotos */
@media (max-width: 768px) {
  .pt-photo-overlay {
    padding: 4px;
    min-height: 30%;
  }

  .pt-photo-symbol {
    font-size: 12px;
  }

  .pt-photo-name {
    font-size: 8px;
    display: none; /* Ocultar nombre en mobile para modo fotos */
  }

  .pt-cell-photo-mode.is-highlight {
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.9),
                0 0 0 4px rgba(84, 158, 214, 0.6);
  }
}


/* ... (mant√©n todo el CSS anterior y actualiza/modifica estas secciones) */

/* --- Estados de Interacci√≥n --- */

/* Modo colores - comportamiento actual */
.pt-cell.is-dimmed {
  opacity: 0.12;
  filter: grayscale(0.4);
  pointer-events: none;
}

/* Modo fotos - efecto difuminado similar */
.pt-cell-photo-mode.is-dimmed {
  opacity: 0.15 !important;
  filter: grayscale(0.8) brightness(0.6) !important;
  pointer-events: none;
}

/* Highlight en modo colores */
.pt-cell.is-highlight {
  z-index: 30;
  transform: scale(1.02);
}

/* ‚úÖ CORRECCI√ìN: Highlight en modo fotos SIN marco azul, solo iluminaci√≥n */
.pt-cell-photo-mode.is-highlight {
  z-index: 30;
  opacity: 1 !important;
  filter: brightness(1.1) saturate(1.2) !important;
  transform: scale(1.03);
  /* Quitamos el box-shadow azul, solo mantenemos una sombra suave */
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
  transition: transform 0.3s ease, filter 0.3s ease, box-shadow 0.3s ease;
}

/* Clase especial para asegurar que el highlight en fotos no tenga borde azul */
.pt-photo-highlight {
  /* Quitamos cualquier outline o borde heredado */
  outline: none !important;
  border: none !important;
}

/* Restauramos el efecto hover normal en modo fotos */
.pt-cell-photo-mode:hover:not(.is-dimmed) {
  transform: scale(1.02);
  filter: brightness(1.1);
  z-index: 25;
}

/* Overlay para fotos - mejor contraste */
.pt-photo-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.85) 0%,
    rgba(0, 0, 0, 0.7) 30%,
    rgba(0, 0, 0, 0.4) 60%,
    transparent 100%
  );
  padding: 8px 6px;
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  min-height: 45%;
  border-bottom-left-radius: inherit;
  border-bottom-right-radius: inherit;
}

/* Celdas sin imagen en modo fotos */
.pt-photo-fallback-symbol {
  color: #333;
  font-weight: 900;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

.pt-photo-fallback-name {
  color: #333;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

/* Asegurar que las celdas en modo fotos tengan buen contraste de texto */
.pt-cell-photo-mode .pt-symbol,
.pt-cell-photo-mode .pt-name {
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
}

/* Responsive mejorado para modo fotos */
@media (max-width: 768px) {
  .pt-cell-photo-mode.is-highlight {
    transform: scale(1.02);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .pt-cell-photo-mode.is-dimmed {
    opacity: 0.1 !important;
    filter: grayscale(0.9) brightness(0.5) !important;
  }

  .pt-photo-overlay {
    padding: 4px;
    min-height: 35%;
    background: linear-gradient(
      to top,
      rgba(0, 0, 0, 0.9) 0%,
      rgba(0, 0, 0, 0.7) 50%,
      transparent 100%
    );
  }
}

/* Asegurar que las transiciones sean suaves */
.pt-cell,
.pt-cell-photo-mode {
  transition: all 0.25s ease, opacity 0.3s ease, filter 0.3s ease;
}

/* Deshabilitar cualquier borde heredado en las celdas de fotos */
.pt-cell-photo-mode {
  border: none !important;
  outline: none !important;
}

/* A√±ade esto al final de tu periodic-table.css */

/* Mejoras espec√≠ficas para modo fotos */
.pt-cell-photo-mode {
  background-color: #f8f9fa;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: all 0.3s ease;
}

/* Para celdas de categor√≠a en modo fotos (sin imagen) */
.pt-cell-photo-mode:not([style*="background-image"]) {
  background-color: rgba(248, 249, 250, 0.8);
}

/* Mejor contraste para texto en celdas sin imagen */
.pt-cell-photo-mode:not([style*="background-image"]) .pt-symbol,
.pt-cell-photo-mode:not([style*="background-image"]) .pt-name {
  color: #333;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

/* Overlay solo para celdas con imagen */
.pt-cell-photo-mode[style*="background-image"] .pt-photo-overlay {
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.85) 0%,
    rgba(0, 0, 0, 0.7) 30%,
    rgba(0, 0, 0, 0.4) 60%,
    transparent 100%
  );
}


/* ‚úÖ Ocultar el panel flotante (preview integrado) en pantallas peque√±as */
@media (max-width: 900px) {
  .pt-panel-integrated,
  .pt-preview-box,
  .pt-preview-info,
  .pt-preview-img,
  .pt-preview-text {
    display: none !important;
  }
}
